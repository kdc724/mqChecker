{% extends "items/base.html" %}


{% load humanize %}


{% block content %}
    <!-- BANNER -->
  <section id="banner-section" class="p-5">
    <div class="dark-overlay">
      <div class="row">
        <div class="col">
          <div class="container pt-5">
            <h1>Search for items</h1>
            <p class="d-none d-md-block">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Est eaque magni sit dolores. Nisi, dolor nam modi perspiciatis
              consequatur soluta.</p>

          </div>
        </div>
      </div>
    </div>
  </section>

  



      <div class="container">

        <!-- BREADCRUMB -->
        <ol class="breadcrumb mt-4">
            <li class="breadcrumb-item">
                <a href="{% url 'dashboard' %}">Dashboard</a>
            </li>
            <li class="breadcrumb-item active">List of Items</li>
        </ol>

        

        <div id="accordion">
          <div class="card bg-warning">
            <div class="card-header">
              <h5 class="text-center pt-2">
                <a href="#collapse1" data-parent="#accordion" data-toggle="collapse">
                  FILTERS <i class="fas fa-arrow-circle-down"></i>
                </a>
              </h5>
            </div>
    
            <div id="collapse1" class="collapse">
              <div class="card-body">

                  <form method="get">

                    <div class="form-row">

                      <!--FIRST ROW-->
                      <div class="col-md-4 mb-3">
                        Title: {{ myFilter.form.title_contains }}
                      </div>
                    
                      <div class="col-md-4 mb-3">
                        Category: {{ myFilter.form.category }}
                      </div>
                    
                      <div class="col-md-4 mb-3">
                        Condition: {{ myFilter.form.condition }}
                      </div>
                    
                      <!--SECOND ROW-->
                    
                      <div class="col-md-4 mb-3">
                        Status: {{ myFilter.form.status }}
                      </div>
                    
                      <div class="col-md-4 mb-3">
                        Checker: {{ myFilter.form.checker }}
                      </div>
                    
                      <div class="col-md-4 mb-3">
                        Comments: {{ myFilter.form.note }}
                      </div>
                    
                      <!--THIRD ROW-->
                    
                      <div class="col-md-4 mb-3">
                        Priority: {{ myFilter.form.priority }}
                      </div>
                    
                      <div class="col-md-8 mb-3">
                        Date checked: {{ myFilter.form.date_checked }}
                      </div>
                    
                      
                    
                    </div><!--END OF FORM ROW-->
                    

                    <button class="btn btn-brand2 btn-block" type="submit">Search</button>
                  </form>
            
              </div>
            </div>
          </div>

      
        
      {% if items %}
      
      <!-- Page Heading -->
      <h2 class="my-4 border-bottom">Total: {{ total_search }} item{{ total_search|pluralize }}</h2>

      <!-- Project One -->
      {% for item in items %}
     <div class="row">
      
        <div class="col-md-5">
          <a href="#">
            {% if item.photo_main %}
            <img id="photo-main" class=" img-fluid rounded mb-3 mb-md-0" src="{{ item.photo_main.url }}">
            {% endif %}
            
          </a>
        </div>
        <div class="col-md-7">
          <h3 class="border-bottom">{{ item.title}}</h3>
          <div class="row">
            <div class="col-md-6">
              <p>ID: <span>{{ item.id}}</span></p>
              <p>Category: <span>{{ item.category}}</span></p>
              <p>Condition: <span>{{ item.condition }}</span> </p>
              <p>Status: <span>{{ item.status}}</span> </p>
            </div>

            <div class="col-md-6">
              <p>Checked by: <span>{{ item.checker}}</span> </p>
              <p>Date Checked: <span>{{ item.date_checked }}</span> </p>
            </div>
          </div>
      
          <a class="btn btn-brand2" href="{% url 'item-detail' item.id %}">View more details</a>
        </div>
      </div>
      <!-- /.row -->

      <hr>

      {% endfor%}

      

      <!-- Pagination -->
      {% if items.has_other_pages %}
      <ul class="pagination justify-content-center">
        {% if items.has_previous %}
        <li class="page-item">
          <a class="page-link" href="?page={{items.previous_page_number}}" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
            <span class="sr-only">Previous</span>
          </a>
        </li>
        {% else %}
        <li class="page-item-disabled">
          <a class="page-link">&laquo;</a>
        </li>
        {% endif %}
        {% for i in items.paginator.page_range %}
            {% if items.number == i %}
            <li class="page-item active">
              <a class="page-link" href="#">{{i}}</a>
            </li>
            {% else %}
            <li class="page-item">
              <a class="page-link" href="?page={{i}}">{{i}}</a>
            </li>
            {% endif %}
          {% endfor %}
          {% if items.has_next %}
          <li class="page-item">
            <a class="page-link" href="?page={{listings.next_page_number}}" aria-label="Next">
              <span aria-hidden="true">&raquo;</span>
              <span class="sr-only">Next</span>
            </a>
          </li>
          {% else %}
          <li class="page-item disabled">
            <a class="page-link">&raquo;</a>
          </li>
          {% endif %}
      </ul>
      {% endif %}

    </div>
    <!-- /.container -->
    {% else %}

      <div>
        <h3>No Items available</h3>
      </div>

    {% endif %}

        </div><!---END OF CONTENT--->
    </div><!---END OF WRAPPER--->


{% endblock %}